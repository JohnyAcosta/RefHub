<html class="scroll-smooth" lang="es"><head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<title>Visuarium — Referencias visuales para creativos</title>
<meta content="Herramientas y recursos visuales curados para creativos publicitarios." name="description">
<meta content="Visuarium — Referencias visuales para creativos" property="og:title">
<meta content="Herramientas y recursos curados para creativos publicitarios." property="og:description">
<meta content="website" property="og:type">
<meta content="es_ES" property="og:locale">
<meta content="summary_large_image" name="twitter:card">
<link href="data:image/svg+xml,&lt;svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2'&gt;&lt;polygon points='12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2'/&gt;&lt;/svg&gt;" rel="icon" type="image/svg+xml">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&amp;family=Geist+Mono:wght@300;400;500;600&amp;display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<style type="text/tailwindcss">
    @layer base {
      :root {
        --bg: #121212;
        --surface: #1E1E1E;
        --surface-hover: #2A2A2A;
        --surface-border: #333333;
        --surface-border-hover: rgba(255,255,255,0.15);
        --text-primary: #ffffff;
        --text-secondary: #e5e5e5;
        --text-tertiary: #a3a3a3;
        --text-micro: #737373;
        --accent: #2563eb;
        --accent-hover: #1d4ed8;
        --accent-orange: #FF6B00;
        --green: #4ade80;
        --green-glass-bg: rgba(74, 222, 128, 0.1);
        --green-glass-border: rgba(74, 222, 128, 0.3);
        --green-glow: 0 0 10px rgba(74, 222, 128, 0.15);
        --amber: #fbbf24;
        --amber-glass-bg: rgba(251, 191, 36, 0.1);
        --amber-glass-border: rgba(251, 191, 36, 0.3);
        --amber-glow: 0 0 10px rgba(251, 191, 36, 0.15);
        --blue-tag: #60a5fa;
        --blue-glass-bg: rgba(96, 165, 250, 0.1);
        --blue-glass-border: rgba(96, 165, 250, 0.3);
        --blue-glow: 0 0 10px rgba(96, 165, 250, 0.15);
        --gold: #facc15;
        --gold-bg: rgba(250,204,21,0.15);
        --gold-border: rgba(250,204,21,0.25);
        --shadow-preview: 0 20px 50px rgba(0,0,0,0.5), 0 10px 20px rgba(0,0,0,0.3);
        --shadow-card: 0 10px 30px rgba(0,0,0,0.3);
        --search-overlay-bg: rgba(0,0,0,0.6);
        --search-shadow: 0 8px 32px rgba(0,0,0,0.5);
        --eye-bg: #ffffff;
        --pupil-bg: #000000;
        --font-sans: 'Inter', sans-serif;
        --font-mono: 'Geist Mono', monospace;
        --card-bg: #1E1E1E;
        --search-bg: #181818;
      }
      html.light-mode {
        --bg: #faf9f7;
        --surface: #ffffff;
        --surface-hover: #f5f4f2;
        --surface-border: #e5e5e5; 
        --surface-border-hover: rgba(0,0,0,0.15);
        --text-primary: #1a1a1a;
        --text-secondary: #404040;
        --text-tertiary: #8c8c8c;
        --text-micro: #a3a3a3;
        --accent: #2563eb;
        --accent-hover: #1d4ed8;
        --accent-orange: #FF6B00;
        --green: #15803d;
        --green-glass-bg: rgba(22, 163, 74, 0.08);
        --green-glass-border: rgba(22, 163, 74, 0.25);
        --green-glow: 0 0 8px rgba(22, 163, 74, 0.1);
        --amber: #b45309;
        --amber-glass-bg: rgba(217, 119, 6, 0.08);
        --amber-glass-border: rgba(217, 119, 6, 0.25);
        --amber-glow: 0 0 8px rgba(217, 119, 6, 0.1);
        --blue-tag: #1d4ed8;
        --blue-glass-bg: rgba(37, 99, 235, 0.08);
        --blue-glass-border: rgba(37, 99, 235, 0.25);
        --blue-glow: 0 0 8px rgba(37, 99, 235, 0.1);
        --gold: #ca8a04;
        --gold-bg: rgba(202,138,4,0.1);
        --gold-border: rgba(202,138,4,0.25);
        --shadow-preview: 0 20px 50px rgba(0,0,0,0.12), 0 10px 20px rgba(0,0,0,0.06);
        --shadow-card: 0 4px 12px rgba(0,0,0,0.06);
        --search-overlay-bg: rgba(250,249,247,0.8);
        --search-shadow: 0 8px 32px rgba(0,0,0,0.08);
        --eye-bg: #1a1a1a;
        --pupil-bg: #ffffff;
        --card-bg: #ffffff;
        --search-bg: #f3f2f0;
      }
      body {
        @apply bg-[var(--bg)] text-[var(--text-primary)] font-[family-name:var(--font-sans)] text-[15px] antialiased leading-relaxed overflow-x-hidden transition-colors duration-300;
      }
    }
    .grid-bg {
      @apply fixed inset-0 z-0 pointer-events-none;
    }
    .grid-bg::before {
      content: '';
      @apply absolute inset-0 opacity-40;
      background-image: linear-gradient(var(--surface-border) 1px, transparent 1px), linear-gradient(90deg, var(--surface-border) 1px, transparent 1px);
      background-size: 72px 72px;
    }
    .corner-cross {
      @apply absolute w-4 h-4 opacity-50 hidden md:block;
    }
    .corner-cross::before, .corner-cross::after {
      content: '';
      @apply absolute bg-[var(--surface-border)];
    }
    .corner-cross::before {
      @apply w-4 h-[1px] top-1/2 left-0;
    }
    .corner-cross::after {
      @apply w-[1px] h-4 left-1/2 top-0;
    }
    .nav-btn:hover {
      @apply text-[var(--text-primary)] border-[var(--surface-border-hover)] bg-[var(--surface)];
    }
    .search-modal {
      animation: searchIn 0.2s cubic-bezier(0.16, 1, 0.3, 1);
    }
    @keyframes searchIn {
      from { opacity: 0; transform: translateY(-8px) scale(0.98); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }
    .sub-tab:hover {
      border-color: var(--text-tertiary);
      color: var(--text-primary);
      background: var(--surface-hover);
    }
    .sub-tab.active {
      background: var(--accent-orange);
      border-color: var(--accent-orange);
      color: #fff;
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(255,107,0,.3);
      z-index: 1;
    }
    .tool-card {
        background-color: var(--card-bg);
        border: 1px solid var(--surface-border);
        height: 100%;
        display: flex;
        flex-direction: column;
        transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        scroll-margin-top: 100px;
    }
    .tool-card.highlight-pulse {
        animation: pulseCard 1s ease-in-out;
        border-color: var(--accent-orange);
    }
    @keyframes pulseCard {
        0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255,107,0, 0.7); }
        50% { transform: scale(1.02); box-shadow: 0 0 0 10px rgba(255,107,0, 0); }
        100% { transform: scale(1); }
    }
    .tool-card:hover {
      transform: translateY(-4px) scale(1.01);
      border-color: var(--accent-orange);
      box-shadow: 
        0 0 0 1px var(--accent-orange),
        0 0 40px -10px rgba(255, 107, 0, 0.3),
        0 20px 40px -10px rgba(0, 0, 0, 0.4);
      z-index: 10;
    }
    .tool-card:hover .tc-url {
      color: var(--text-tertiary);
    }
    .tool-card:hover .arrow-icon, .tool-card:hover .copy-icon {
        color: var(--text-primary);
        opacity: 1;
    }
    .tool-card:hover .arrow-icon {
        transform: translate(2px, -2px);
        color: var(--accent-orange);
    }
    .screenshot-preview.visible {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
    .fade-up {
      opacity: 0;
      transform: translateY(14px);
      transition: all 0.45s cubic-bezier(0.16, 1, 0.3, 1);
    }
    .fade-up.visible {
      opacity: 1;
      transform: translateY(0);
    }
    .stagger > .fade-up:nth-child(1) { transition-delay: 0s; }
    .stagger > .fade-up:nth-child(2) { transition-delay: .04s; }
    .stagger > .fade-up:nth-child(3) { transition-delay: .08s; }
    .stagger > .fade-up:nth-child(4) { transition-delay: .12s; }
    .stagger > .fade-up:nth-child(5) { transition-delay: .16s; }
    .stagger > .fade-up:nth-child(6) { transition-delay: .2s; }
    .stagger > .fade-up:nth-child(7) { transition-delay: .24s; }
    .stagger > .fade-up:nth-child(8) { transition-delay: .28s; }
    .glass-badge {
      backdrop-filter: blur(4px);
      -webkit-backdrop-filter: blur(4px);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }
    .price-free {
        background: var(--green-glass-bg);
        color: var(--green);
        border: 1px solid var(--green-glass-border);
        box-shadow: var(--green-glow);
    }
    .price-paid {
        background: var(--amber-glass-bg);
        color: var(--amber);
        border: 1px solid var(--amber-glass-border);
        box-shadow: var(--amber-glow);
    }
    .price-freemium {
        background: var(--blue-glass-bg);
        color: var(--blue-tag);
        border: 1px solid var(--blue-glass-border);
        box-shadow: var(--blue-glow);
    }
    .status-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background-color: currentColor;
      box-shadow: 0 0 6px currentColor;
    }
    .new-badge {
      background: var(--accent-orange);
      color: white;
      font-size: 9px;
      font-weight: 800;
      padding: 3px 7px;
      border-radius: 999px;
      margin-left: 8px;
      letter-spacing: 0.05em;
      box-shadow: 0 0 10px rgba(255,107,0,0.6);
      position: relative;
      overflow: hidden;
      animation: pulse-orange 2s infinite;
      display: inline-flex;
      align-items: center;
    }
    @keyframes pulse-orange {
      0% { box-shadow: 0 0 0 0 rgba(255,107,0, 0.7); }
      70% { box-shadow: 0 0 0 6px rgba(255,107,0, 0); }
      100% { box-shadow: 0 0 0 0 rgba(255,107,0, 0); }
    }
    .icon-gradient {
        background: linear-gradient(135deg, rgba(255,255,255,0.05), rgba(255,255,255,0.01));
    }
    .eye.blink {
        height: 2px !important;
        background-color: var(--text-primary) !important;
        border-radius: 2px !important;
        overflow: hidden;
    }
    .eye.blink .pupil {
        opacity: 0;
    }
    .ouch-bubble {
        position: absolute;
        left: 100%;
        top: 100%;
        margin-left: 8px;
        margin-top: 4px;
        background: var(--accent-orange);
        color: #fff;
        font-family: var(--font-mono);
        font-weight: 800;
        font-size: 11px;
        padding: 4px 8px;
        border-radius: 8px;
        border-top-left-radius: 0;
        pointer-events: none;
        opacity: 0;
        transform: scale(0.5) rotate(-10deg);
        transform-origin: top left;
        transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
        z-index: 50;
        box-shadow: 0 4px 12px rgba(255,107,0,0.4);
        white-space: nowrap;
    }
    .ouch-bubble.visible {
        opacity: 1;
        transform: scale(1) rotate(0deg);
        margin-top: 8px;
    }
    .ouch-bubble::before {
        content: '';
        position: absolute;
        top: -4px;
        left: 0;
        width: 0;
        height: 0;
        border-left: 6px solid var(--accent-orange);
        border-top: 6px solid transparent;
    }
    .ouch-bubble.angry-bubble {
        background: #ef4444;
        box-shadow: 0 4px 15px rgba(239, 68, 68, 0.5);
        transform: scale(1.4) rotate(0deg) !important;
        margin-top: 12px !important;
        font-size: 13px;
    }
    .ouch-bubble.angry-bubble::before {
        border-left-color: #ef4444;
    }
    
    /* Ojo izquierdo enfadado: \ */
    .eye.angry:first-child {
        border-radius: 50%;
        overflow: hidden;
        clip-path: polygon(0 0, 100% 30%, 100% 100%, 0% 100%);
    }

    /* Ojo derecho enfadado: / */
    .eye.angry:last-child {
        border-radius: 50%;
        overflow: hidden;
        clip-path: polygon(0 30%, 100% 0, 100% 100%, 0% 100%);
    }

    .eye.angry .pupil {
        background-color: #ef4444;
        width: 6px;
        height: 6px;
    }
    
    /* ═══════════════════════════════════════ */
    /* COPY TOAST NOTIFICATION */
    /* ═══════════════════════════════════════ */
    .copy-toast {
        position: absolute;
        top: 48px;
        right: 24px;
        background: var(--green-glass-bg);
        border: 1px solid var(--green-glass-border);
        color: var(--green);
        font-family: var(--font-mono);
        font-size: 11px;
        font-weight: 600;
        padding: 6px 12px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        gap: 6px;
        opacity: 0;
        transform: translateY(-8px) scale(0.9);
        pointer-events: none;
        transition: all 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);
        box-shadow: var(--green-glow), 0 4px 12px rgba(0,0,0,0.15);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        z-index: 20;
    }
    .copy-toast.show {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
    .copy-toast-icon {
        width: 14px;
        height: 14px;
        flex-shrink: 0;
    }
  </style>
</head>
<body>
<div class="grid-bg">
<div class="corner-cross top-[72px] left-[72px]"></div>
<div class="corner-cross top-[72px] right-[72px]"></div>
<div class="corner-cross bottom-[72px] left-[72px]"></div>
</div>
<nav class="fixed top-0 left-0 right-0 z-[100] h-14 px-4 flex items-center justify-between border-b border-[var(--surface-border)] transition-colors duration-300 backdrop-blur-[20px]" style="background: color-mix(in srgb, var(--bg) 85%, transparent);">
<div class="w-[140px] flex items-center">
<a class="flex items-center gap-[10px] font-bold text-[17px] tracking-tight text-[var(--text-primary)] hover:opacity-80 transition-opacity no-underline" href="#">
      Visuarium
      <span class="font-[family-name:var(--font-mono)] text-[9px] font-semibold text-[var(--accent-orange)] bg-[rgba(255,107,0,0.15)] border border-[rgba(255,107,0,0.3)] px-[5px] py-[2px] rounded ml-[6px] align-super tracking-wide">BETA</span>
</a>
</div>
<div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 cursor-pointer select-none" id="eyesContainer" style="padding: 10px;">
<div class="relative">
<div class="flex gap-1 items-center pointer-events-none" id="googlyEyes">
<div class="eye w-4 h-4 bg-[var(--eye-bg)] rounded-full relative flex items-center justify-center transition-all duration-100">
<div class="pupil w-[7px] h-[7px] bg-[var(--pupil-bg)] rounded-full absolute transition-transform duration-75 ease-out"></div>
</div>
<div class="eye w-4 h-4 bg-[var(--eye-bg)] rounded-full relative flex items-center justify-center transition-all duration-100">
<div class="pupil w-[7px] h-[7px] bg-[var(--pupil-bg)] rounded-full absolute transition-transform duration-75 ease-out"></div>
</div>
</div>
<div class="ouch-bubble" id="ouchBubble">OUCH!</div>
</div>
</div>
<div class="w-[140px] flex items-center justify-end gap-2">
<button class="nav-btn font-[family-name:var(--font-mono)] text-xs font-semibold tracking-wide w-9 h-9 flex items-center justify-center rounded-lg border border-[var(--surface-border)] bg-transparent text-[var(--text-tertiary)] cursor-pointer transition-all duration-150 hover:text-[var(--text-primary)] hover:border-[var(--surface-border-hover)] hover:bg-[var(--surface)]" id="langToggle" title="ES / EN">ES</button>
<button class="nav-btn w-9 h-9 flex items-center justify-center rounded-lg border border-[var(--surface-border)] bg-transparent text-[var(--text-tertiary)] cursor-pointer transition-all duration-150 hover:text-[var(--text-primary)] hover:border-[var(--surface-border-hover)] hover:bg-[var(--surface)]" id="themeToggle" title="Cambiar tema">
<span class="material-symbols-outlined text-[18px]">light_mode</span>
</button>
<button class="nav-btn w-9 h-9 flex items-center justify-center rounded-lg border border-[var(--surface-border)] bg-transparent text-[var(--text-tertiary)] cursor-pointer transition-all duration-150 hover:text-[var(--text-primary)] hover:border-[var(--surface-border-hover)] hover:bg-[var(--surface)]" onclick="openSearch()" title="Buscar (⌘K)">
<svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24">
<circle cx="11" cy="11" r="8"></circle>
<line x1="21" x2="16.65" y1="21" y2="16.65"></line>
</svg>
</button>
</div>
</nav>
<div class="search-overlay hidden fixed inset-0 z-[200] bg-[var(--search-overlay-bg)] backdrop-blur-[4px] items-start justify-center pt-[120px] px-4" id="searchOverlay" onclick="if(event.target===this) closeSearch()">
<div class="search-modal bg-[var(--surface)] border border-[var(--surface-border)] rounded-2xl w-full max-w-[560px] overflow-hidden shadow-[var(--search-shadow)]">
<div class="flex items-center gap-3 px-5 py-4 border-b border-[var(--surface-border)]">
<svg class="w-[18px] h-[18px] text-[var(--text-tertiary)] shrink-0" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24">
<circle cx="11" cy="11" r="8"></circle>
<line x1="21" x2="16.65" y1="21" y2="16.65"></line>
</svg>
<input autocomplete="off" class="flex-1 bg-transparent border-none outline-none text-[var(--text-primary)] text-[15px] font-[family-name:var(--font-sans)] placeholder-[var(--text-micro)]" id="searchInput" placeholder="Buscar herramienta o recurso..." type="text">
<button class="font-[family-name:var(--font-mono)] text-[10px] text-[var(--text-micro)] bg-[var(--surface-hover)] border border-[var(--surface-border)] px-1.5 py-0.5 rounded cursor-pointer" onclick="closeSearch()">ESC</button>
</div>
<div class="search-results max-h-[400px] overflow-y-auto p-2 scrollbar-thin scrollbar-thumb-[var(--surface-border)]" id="searchResults"></div>
</div>
</div>
<div class="screenshot-preview fixed z-[1000] w-[320px] h-[200px] bg-[var(--surface)] border border-[var(--surface-border)] rounded-xl shadow-[var(--shadow-preview)] overflow-hidden pointer-events-none opacity-0 scale-95 translate-y-[10px] transition-all duration-200 ease-out hidden md:block" id="screenshotPreview">
<div class="loading absolute inset-0 flex items-center justify-center bg-[var(--surface-hover)] text-[var(--text-micro)] text-xs font-[family-name:var(--font-mono)]" id="previewLoadingText">
    Cargando
    <div class="ml-2 w-5 h-5 border-2 border-[var(--surface-border)] border-t-[var(--text-tertiary)] rounded-full animate-spin"></div>
</div>
<img alt="Preview" class="w-full h-full object-cover block" src="" style="display:none;">
</div>
<main class="relative z-10 pt-24 max-w-[1200px] mx-auto min-h-screen">
<section class="px-4 pb-8">
<div class="fade-up flex flex-wrap justify-center items-center gap-x-3 gap-y-2.5 px-6 mb-6 max-w-[880px] mx-auto" id="subTabs">
</div>
</section>
<div class="tool-grid stagger grid grid-cols-1 md:grid-cols-[repeat(auto-fill,minmax(340px,1fr))] gap-6 px-4 md:px-8 pb-20" id="toolGrid">
</div>
<div class="h-[1px] bg-[var(--surface-border)] mx-4 md:px-8"></div>
<footer class="footer p-8 px-4 md:px-8 pb-14 flex flex-wrap justify-between items-center gap-2">
<span class="font-[family-name:var(--font-mono)] text-xs text-[var(--text-micro)]" id="footerLeft"></span>
<span class="font-[family-name:var(--font-mono)] text-xs text-[var(--text-micro)]" id="footerRight"></span>
</footer>
</main>
<script>
// ═══════════════════════════════════════
// i18n SYSTEM
// ═══════════════════════════════════════
let lang = 'es';
const T = {
  pageTitle:        { es:'Visuarium — Referencias visuales para creativos', en:'Visuarium — Visual references for creatives' },
  searchPlaceholder:{ es:'Buscar herramienta o recurso...', en:'Search tool or resource...' },
  noResults:        { es:'No se encontraron resultados', en:'No results found' },
  open:             { es:'Abrir →', en:'Open →' },
  viewWinners:      { es:'Ver ganadores →', en:'View winners →' },
  featured:         { es:'Destacado', en:'Featured' },
  free:             { es:'Gratis', en:'Free' },
  paid:             { es:'De pago', en:'Paid' },
  freemium:         { es:'Freemium', en:'Freemium' },
  loading:          { es:'Cargando', en:'Loading' },
  footerLeft:       { es:'Visuarium — Referencias visuales para creativos', en:'Visuarium — Visual references for creatives' },
  footerRight:      { es:'Curado por', en:'Curated by' },
  copyLink:         { es:'Copiar enlace', en:'Copy link' },
  copied:           { es:'¡Enlace copiado!', en:'Link copied!' },
};
function t(key) { return T[key]?.[lang] || T[key]?.es || key; }
function getText(obj) { if (!obj) return ''; if (typeof obj === 'string') return obj; return obj[lang] || obj.es || ''; }

// ═══════════════════════════════════════
// DATA 
// ═══════════════════════════════════════
const SUBCATEGORIES = [
  { id:'cinematography', name:{es:'Cinematografía & Spots',en:'Cinematography & Spots'}, tools:[
    { type:{es:'Biblioteca cinematográfica',en:'Cinematographic library'}, name:'ShotDeck', url:'https://shotdeck.com', price:'paid', desc:{es:'Millones de fotogramas buscables por color, composición, iluminación y emoción. Creado por el DOP nominado al Oscar Lawrence Sher.',en:'Millions of searchable frames by color, composition, lighting and mood. Created by Oscar-nominated DP Lawrence Sher.'}, tags:[{es:'Fotogramas',en:'Frames'},{es:'Color',en:'Color'},{es:'Iluminación',en:'Lighting'}], featured:true },
    { type:{es:'Galería cinematográfica',en:'Cinematographic gallery'}, name:'Film Grab', url:'https://film-grab.com', price:'free', desc:{es:'Capturas de películas por título. Cuando tienes un referente concreto en mente y quieres explorar su lenguaje visual completo.',en:'Film stills by title. When you have a concrete reference in mind and want to explore its full visual language.'}, tags:[{es:'Por película',en:'By film'},{es:'Fotogramas',en:'Frames'},{es:'Gratis',en:'Free'}] },
    { type:{es:'Análisis de color',en:'Color analysis'}, name:'Shot Cafe', url:'https://shot.cafe', price:'free', desc:{es:'Fotogramas con RGB Parade incluido. Para comunicar el tratamiento de color exacto a tu colorista sin ambigüedades.',en:'Frames with built-in RGB Parade. To communicate the exact color treatment to your colorist without ambiguity.'}, tags:[{es:'Etalonaje',en:'Color grading'},{es:'RGB Parade',en:'RGB Parade'},{es:'Color',en:'Color'}] },
    { type:{es:'IA + referencia',en:'AI + reference'}, name:'Film Vibes', url:'https://filmvibes.io', price:'free', desc:{es:'Describes el mood y te devuelve fotogramas de spots relevantes. Búsqueda semántica por IA orientada a publicidad audiovisual.',en:'Describe the mood and get relevant spot frames back. AI-powered semantic search for audiovisual advertising.'}, tags:[{es:'IA',en:'AI'},{es:'Spots',en:'Spots'},{es:'Mood',en:'Mood'}], isNew: true },
    { type:{es:'IA cinematográfica',en:'Cinematographic AI'}, name:'Flim', url:'https://app.flim.ai', price:'freemium', desc:{es:'Buscador de referencias cinematográficas con IA. Filtra por color, mood, composición y más en una base de datos masiva de fotogramas.',en:'AI-powered cinematographic reference search. Filter by color, mood, composition and more across a massive frame database.'}, tags:[{es:'IA',en:'AI'},{es:'Fotogramas',en:'Frames'},{es:'Búsqueda',en:'Search'}] },
    { type:{es:'Técnicas en movimiento',en:'Motion techniques'}, name:'Eyecandy', url:'https://eyecannndy.com', price:'free', desc:{es:'Técnicas cinematográficas en GIF: crash zoom, split diopter, match cut... Para comunicar con el director sin ambigüedades.',en:'Cinematic techniques as GIFs: crash zoom, split diopter, match cut... To communicate with the director unambiguously.'}, tags:[{es:'Técnicas',en:'Techniques'},{es:'GIFs',en:'GIFs'},{es:'Cámara',en:'Camera'}] },
    { type:{es:'Biblioteca mixta',en:'Mixed library'}, name:'Frame Set', url:'https://frameset.app', price:'freemium', desc:{es:'+430.000 fotogramas con filtros para comerciales. Para encontrar el tipo de plano exacto que necesitas.',en:'430K+ frames with filters for commercials. Find the exact shot type you need.'}, tags:[{es:'Planos',en:'Shots'},{es:'Comerciales',en:'Commercials'},{es:'+430k',en:'+430k'}] },
    { type:{es:'Fotogramas completos',en:'Complete frames'}, name:'Every Single Frame', url:'https://www.everysingleframe.com', price:'free', desc:{es:'Cada fotograma de películas icónicas mostrado como póster visual. Una forma única de ver el lenguaje de color y ritmo de una película entera.',en:'Every frame of iconic films displayed as a visual poster. A unique way to see the color language and rhythm of an entire film.'}, tags:[{es:'Fotogramas',en:'Frames'},{es:'Pósters',en:'Posters'},{es:'Color',en:'Color'}] },
    { type:{es:'Directorio de directores',en:'Directors directory'}, name:"Director's Library", url:'https://directorslibrary.com', price:'free', desc:{es:'Directorio de directores de cine publicitario con sus trabajos. Para buscar el director adecuado por estilo y reel.',en:'Directory of advertising film directors with their work. Find the right director by style and reel.'}, tags:[{es:'Directores',en:'Directors'},{es:'Spots',en:'Spots'},{es:'Reels',en:'Reels'}] },
    { type:{es:'Diálogos de cine',en:'Film dialogue'}, name:'PlayPhrase', url:'https://www.playphrase.me', price:'free', desc:{es:'Busca cualquier frase y encuentra el clip de película donde se dice. Para referencias de diálogo, tono y actuación.',en:'Search any phrase and find the movie clip where it\'s said. For dialogue, tone and performance references.'}, tags:[{es:'Diálogos',en:'Dialogue'},{es:'Clips',en:'Clips'},{es:'Búsqueda',en:'Search'}] },
  ]},
  { id:'graphic', name:{es:'Gráfica & Print',en:'Graphic & Print'}, tools:[
    { type:{es:'Gráfica publicitaria',en:'Advertising graphics'}, name:"Lürzer's Archive", url:'https://www.luerzersarchive.com', price:'freemium', desc:{es:'La biblia del diseño gráfico publicitario desde 1984. Print, poster, packaging.',en:'The bible of advertising graphic design since 1984. Print, poster, packaging.'}, tags:[{es:'Print',en:'Print'},{es:'Gráfica',en:'Graphics'},{es:'Histórico',en:'Historic'}], featured:true },
    { type:{es:'Portfolios creativos',en:'Creative portfolios'}, name:'Behance', url:'https://behance.net', price:'free', desc:{es:'Para buscar fotógrafos y directores por estilo. Cuando necesitas encontrar el talento adecuado para una estética muy definida.',en:'Find photographers and directors by style. When you need the right talent for a very defined aesthetic.'}, tags:[{es:'Fotógrafos',en:'Photographers'},{es:'Directores',en:'Directors'},{es:'Talento',en:'Talent'}] },
    { type:{es:'Diseño web curado',en:'Curated web design'}, name:'Siteinspire', url:'https://siteinspire.com', price:'free', desc:{es:'Galería curada de diseño web de alta calidad. Para referencias de composición y jerarquía tipográfica en piezas digitales.',en:'Curated gallery of high-quality web design. For composition and typographic hierarchy references in digital pieces.'}, tags:[{es:'Composición',en:'Composition'},{es:'Tipografía',en:'Typography'},{es:'Digital',en:'Digital'}] },
    { type:{es:'Pósters tipográficos',en:'Typographic posters'}, name:'Typographic Posters', url:'https://www.typographicposters.com', price:'free', desc:{es:'Galería curada de pósters tipográficos de todo el mundo. Referencia pura para diseño gráfico con tipografía como protagonista.',en:'Curated gallery of typographic posters from around the world. Pure reference for graphic design with typography as the star.'}, tags:[{es:'Pósters',en:'Posters'},{es:'Tipografía',en:'Typography'},{es:'Galería',en:'Gallery'}] },
    { type:{es:'Inspiración visual',en:'Visual inspiration'}, name:'Designspiration', url:'https://designspiration.com', price:'free', desc:{es:'Buscador visual que permite buscar por colores y composiciones. Ideal para explorar estilos gráficos y construir moodboards.',en:'Visual search engine that lets you search by colors and compositions. Ideal for exploring graphic styles and building moodboards.'}, tags:[{es:'Moodboards',en:'Moodboards'},{es:'Color',en:'Color'},{es:'Visual',en:'Visual'}] },
    { type:{es:'Pósters con causa',en:'Posters with a cause'}, name:'Poster for Tomorrow', url:'https://www.posterfortomorrow.org/en/gallery', price:'free', desc:{es:'Galería de pósters con mensaje social de diseñadores de todo el mundo. Creatividad aplicada a causas reales.',en:'Gallery of social message posters from designers worldwide. Creativity applied to real causes.'}, tags:[{es:'Social',en:'Social'},{es:'Pósters',en:'Posters'},{es:'Global',en:'Global'}] },
    { type:{es:'Diseño web brutalista',en:'Brutalist web design'}, name:'Brutalist Websites', url:'https://brutalistwebsites.com', price:'free', desc:{es:'Directorio de diseño web brutalista. Cuando necesitas referencias que rompan con lo convencional.',en:'Brutalist web design directory. When you need references that break from convention.'}, tags:[{es:'Brutalista',en:'Brutalist'},{es:'Web',en:'Web'},{es:'Experimental',en:'Experimental'}] },
    { type:{es:'Archivo de pósters',en:'Poster archive'}, name:'Poster Plakat', url:'https://www.posterplakat.com', price:'free', desc:{es:'Archivo histórico de pósters desde el Art Nouveau hasta el diseño contemporáneo. Historia visual del cartel.',en:'Historical poster archive from Art Nouveau to contemporary design. Visual history of the poster.'}, tags:[{es:'Archivo',en:'Archive'},{es:'Histórico',en:'Historic'},{es:'Pósters',en:'Posters'}] },
    { type:{es:'Mejor cartelismo',en:'Best poster design'}, name:'100 Beste Plakate', url:'https://100-beste-plakate.de', price:'free', desc:{es:'Los 100 mejores pósters del espacio de habla alemana, seleccionados anualmente. El estándar de excelencia en cartelismo.',en:'The 100 best posters from the German-speaking world, selected annually. The standard of excellence in poster design.'}, tags:[{es:'Concurso',en:'Competition'},{es:'Anual',en:'Annual'},{es:'Excelencia',en:'Excellence'}] },
    { type:{es:'Alianza gráfica',en:'Graphic alliance'}, name:'AGI', url:'https://a-g-i.org', price:'free', desc:{es:'Alliance Graphique Internationale. La élite global del diseño gráfico reunida en una organización. Miembros por invitación.',en:'Alliance Graphique Internationale. The global elite of graphic design in one organization. Invitation-only members.'}, tags:[{es:'Élite',en:'Elite'},{es:'Diseño',en:'Design'},{es:'Global',en:'Global'}] },
    { type:{es:'Competición de diseño',en:'Design competition'}, name:'Graphis Poster', url:'https://graphis.com/competitions/poster', price:'free', desc:{es:'Competición internacional de pósters de Graphis. Trabajo premiado de dirección de arte y diseño gráfico global.',en:'Graphis international poster competition. Award-winning art direction and global graphic design work.'}, tags:[{es:'Premios',en:'Awards'},{es:'Pósters',en:'Posters'},{es:'Diseño',en:'Design'}] },
    { type:{es:'Estudio de diseño',en:'Design studio'}, name:'Visuelle', url:'https://visuelle.co.uk', price:'free', desc:{es:'Portfolio y blog de diseño gráfico editorial y corporativo. Referencia de identidad visual y branding de alta calidad.',en:'Editorial and corporate graphic design portfolio and blog. High-quality visual identity and branding reference.'}, tags:[{es:'Branding',en:'Branding'},{es:'Editorial',en:'Editorial'},{es:'Identidad',en:'Identity'}] },
    { type:{es:'Diseño de portadas',en:'Cover design'}, name:'Cover Junkie', url:'https://coverjunkie.substack.com/archive', price:'free', desc:{es:'Archivo de las mejores portadas de revistas del mundo. Para referencias de diseño editorial, composición y tipografía en portada.',en:'Archive of the world\'s best magazine covers. For editorial design, composition and cover typography references.'}, tags:[{es:'Portadas',en:'Covers'},{es:'Editorial',en:'Editorial'},{es:'Revistas',en:'Magazines'}] },
  ]},
  { id:'art', name:{es:'Arte & Cultura',en:'Art & Culture'}, tools:[
    { type:{es:'Arte & cultura',en:'Art & culture'}, name:'Colossal', url:'https://thisiscolossal.com', price:'free', desc:{es:'Arte contemporáneo, fotografía e instalación. Para cuando la idea necesita salir del mundo publicitario y conectar con algo más grande.',en:'Contemporary art, photography and installation. For when the idea needs to go beyond advertising and connect with something bigger.'}, tags:[{es:'Arte',en:'Art'},{es:'Cultura',en:'Culture'},{es:'Instalación',en:'Installation'}] },
    { type:{es:'Industria creativa',en:'Creative industry'}, name:"It's Nice That", url:'https://itsnicethat.com', price:'free', desc:{es:'La referencia de la industria creativa global. Diseño, publicidad e ilustración con criterio editorial sólido.',en:'The reference for the global creative industry. Design, advertising and illustration with solid editorial criteria.'}, tags:[{es:'Diseño',en:'Design'},{es:'Publicidad',en:'Advertising'},{es:'Editorial',en:'Editorial'}] },
    { type:{es:'Creadores globales',en:'Global creators'}, name:'WePresent', url:'https://wepresent.wetransfer.com', price:'free', desc:{es:'Historias sobre artistas, fotógrafos y cineastas del mundo entero. Para cuando necesitas un referente humano, no solo visual.',en:'Stories about artists, photographers and filmmakers from around the world. When you need a human reference, not just visual.'}, tags:[{es:'Artistas',en:'Artists'},{es:'Historias',en:'Stories'},{es:'Global',en:'Global'}] },
    { type:{es:'Cultura visual',en:'Visual culture'}, name:'Nowness', url:'https://nowness.com', price:'free', desc:{es:'Cortometrajes, documentales y piezas de arte visual comisionadas. Cuando necesitas referencias que trascienden la publicidad.',en:'Short films, documentaries and commissioned visual art pieces. When you need references that transcend advertising.'}, tags:[{es:'Cortometrajes',en:'Short films'},{es:'Arte',en:'Art'},{es:'Premium',en:'Premium'}] },
  ]},
  { id:'stock', name:{es:'Stock Foto & Video',en:'Stock Photo & Video'}, tools:[
    { type:{es:'Fotografía gratuita',en:'Free photography'}, name:'Unsplash', url:'https://unsplash.com', price:'free', desc:{es:'La mejor biblioteca de fotos gratuitas en alta resolución. Licencia libre para uso comercial sin atribución.',en:'The best free high-resolution photo library. Free license for commercial use without attribution.'}, tags:[{es:'Fotos',en:'Photos'},{es:'Gratis',en:'Free'},{es:'Alta resolución',en:'High-res'}], featured:true },
    { type:{es:'Fotos y video',en:'Photos & video'}, name:'Pexels', url:'https://pexels.com', price:'free', desc:{es:'Fotos y videos gratuitos. Alternativa a Unsplash con buena selección de video stock.',en:'Free photos and videos. Alternative to Unsplash with good video stock selection.'}, tags:[{es:'Fotos',en:'Photos'},{es:'Video',en:'Video'},{es:'Gratis',en:'Free'}] },
    { type:{es:'Video cinematográfico',en:'Cinematic video'}, name:'Artgrid', url:'https://artgrid.io', price:'paid', desc:{es:'Stock de video cinematográfico premium. De los creadores de Artlist, calidad de producción profesional.',en:'Premium cinematic video stock. From Artlist creators, professional production quality.'}, tags:[{es:'Video',en:'Video'},{es:'Cinematográfico',en:'Cinematic'},{es:'Premium',en:'Premium'}], featured:true },
    { type:{es:'Video gratuito',en:'Free video'}, name:'Pexels Video', url:'https://pexels.com/videos', price:'free', desc:{es:'Videos gratuitos para proyectos con presupuesto limitado.',en:'Free videos for projects with limited budget.'}, tags:[{es:'Video',en:'Video'},{es:'Gratis',en:'Free'},{es:'Stock',en:'Stock'}] },
    { type:{es:'Video para web',en:'Web video'}, name:'Coverr', url:'https://coverr.co', price:'free', desc:{es:'Videos gratuitos pensados para fondos web y headers. Loops y clips cortos de alta calidad.',en:'Free videos designed for web backgrounds and headers. High-quality loops and short clips.'}, tags:[{es:'Web',en:'Web'},{es:'Loops',en:'Loops'},{es:'Gratis',en:'Free'}] },
  ]},
  { id:'typography', name:{es:'Tipografía',en:'Typography'}, tools:[
    { type:{es:'Tipografía en contexto',en:'Typography in context'}, name:'Fonts In Use', url:'https://fontsinuse.com', price:'free', desc:{es:'Tipografía en contexto real. Para ver cómo se usan las fuentes en proyectos reales de diseño, editorial y publicidad.',en:'Typography in real context. See how fonts are used in actual design, editorial and advertising projects.'}, tags:[{es:'Tipografía',en:'Typography'},{es:'Contexto',en:'Context'},{es:'Editorial',en:'Editorial'}], featured:true },
    { type:{es:'Combinaciones tipográficas',en:'Font pairings'}, name:'Typewolf', url:'https://typewolf.com', price:'free', desc:{es:'Combinaciones tipográficas y tendencias. Recomendaciones de fuentes similares y pairings que funcionan.',en:'Font pairings and trends. Similar font recommendations and pairings that work.'}, tags:[{es:'Pairings',en:'Pairings'},{es:'Tendencias',en:'Trends'},{es:'Recomendaciones',en:'Recommendations'}] },
    { type:{es:'Google Fonts',en:'Google Fonts'}, name:'FontPair', url:'https://fontpair.co', price:'free', desc:{es:'Combinaciones de Google Fonts que funcionan juntas. Para proyectos con presupuesto limitado de tipografía.',en:'Google Fonts combinations that work together. For projects with limited typography budget.'}, tags:[{es:'Google Fonts',en:'Google Fonts'},{es:'Pairings',en:'Pairings'},{es:'Gratis',en:'Free'}] },
    { type:{es:'Escala tipográfica',en:'Type scale'}, name:'Type Scale', url:'https://typescale.com', price:'free', desc:{es:'Generador de escalas tipográficas. Para establecer jerarquía visual consistente en cualquier proyecto.',en:'Type scale generator. Establish consistent visual hierarchy in any project.'}, tags:[{es:'Escala',en:'Scale'},{es:'Jerarquía',en:'Hierarchy'},{es:'Herramienta',en:'Tool'}] },
    { type:{es:'Fundición tipográfica',en:'Type foundry'}, name:'Pangram Pangram', url:'https://pangrampangram.com', price:'freemium', desc:{es:'Fundición tipográfica independiente con fuentes de alta calidad. Trial fonts gratuitas para explorar.',en:'Independent type foundry with high-quality fonts. Free trial fonts to explore.'}, tags:[{es:'Fundición',en:'Foundry'},{es:'Fuentes',en:'Fonts'},{es:'Trial',en:'Trial'}] },
    { type:{es:'Tipografía chilena',en:'Chilean typography'}, name:'Quintana', url:'https://quintana-font.cl', price:'free', desc:{es:'Proyecto tipográfico chileno de código abierto. Fuentes diseñadas con identidad latinoamericana.',en:'Chilean open-source typography project. Fonts designed with Latin American identity.'}, tags:[{es:'Open source',en:'Open source'},{es:'LATAM',en:'LATAM'},{es:'Display',en:'Display'}] },
    { type:{es:'Tipografía open source',en:'Open source typography'}, name:'The League of Moveable Type', url:'https://www.theleagueofmoveabletype.com', price:'free', desc:{es:'La primera fundición tipográfica open source. Fuentes gratuitas de alta calidad con licencia abierta.',en:'The first open-source type foundry. High-quality free fonts with open license.'}, tags:[{es:'Open source',en:'Open source'},{es:'Gratis',en:'Free'},{es:'Fundición',en:'Foundry'}] },
  ]},
  { id:'color', name:{es:'Color',en:'Color'}, tools:[
    { type:{es:'Generador de paletas',en:'Palette generator'}, name:'Coolors', url:'https://coolors.co', price:'freemium', desc:{es:'Generador de paletas de color. Genera, explora y guarda combinaciones de colores para cualquier proyecto.',en:'Color palette generator. Generate, explore and save color combinations for any project.'}, tags:[{es:'Paletas',en:'Palettes'},{es:'Generador',en:'Generator'},{es:'Exportar',en:'Export'}], featured:true },
    { type:{es:'Paletas con IA',en:'AI palettes'}, name:'Khroma', url:'https://khroma.co', price:'free', desc:{es:'Generador de paletas con IA. Aprende tus preferencias y genera paletas personalizadas infinitas.',en:'AI-powered palette generator. Learns your preferences and generates infinite personalized palettes.'}, tags:[{es:'IA',en:'AI'},{es:'Personalizado',en:'Personalized'},{es:'Paletas',en:'Palettes'}] },
    { type:{es:'Paletas curadas',en:'Curated palettes'}, name:'Color Hunt', url:'https://colorhunt.co', price:'free', desc:{es:'Paletas de color curadas por la comunidad. Miles de combinaciones organizadas por popularidad y tendencia.',en:'Community-curated color palettes. Thousands of combinations organized by popularity and trend.'}, tags:[{es:'Comunidad',en:'Community'},{es:'Tendencias',en:'Trends'},{es:'Curado',en:'Curated'}] },
    { type:{es:'Rueda de color',en:'Color wheel'}, name:'Adobe Color', url:'https://color.adobe.com', price:'free', desc:{es:'Rueda de color y extracción de paletas desde imágenes. Integración directa con Creative Cloud.',en:'Color wheel and palette extraction from images. Direct Creative Cloud integration.'}, tags:[{es:'Adobe',en:'Adobe'},{es:'Extracción',en:'Extraction'},{es:'Rueda de color',en:'Color wheel'}] },
    { type:{es:'Paletas generativas',en:'Generative palettes'}, name:'Genery', url:'https://genery.io', price:'free', desc:{es:'Generador de paletas de color con enfoque creativo. Explora combinaciones inesperadas para tus proyectos.',en:'Color palette generator with creative focus. Explore unexpected combinations for your projects.'}, tags:[{es:'Generador',en:'Generator'},{es:'Paletas',en:'Palettes'},{es:'Creativo',en:'Creative'}] },
  ]},
  { id:'music', name:{es:'Música & Sonido',en:'Music & Sound'}, tools:[
    { type:{es:'Música para publicidad',en:'Music for advertising'}, name:'Epidemic Sound', url:'https://epidemicsound.com', price:'paid', desc:{es:'Biblioteca de música y efectos para publicidad. Licencia clara para uso comercial en spots y contenido de marca.',en:'Music and sound effects library for advertising. Clear license for commercial use in spots and branded content.'}, tags:[{es:'Licencia comercial',en:'Commercial license'},{es:'Spots',en:'Spots'},{es:'SFX',en:'SFX'}], featured:true },
    { type:{es:'Música premium',en:'Premium music'}, name:'Artlist', url:'https://artlist.io', price:'paid', desc:{es:'Música y efectos de sonido premium. Licencia universal para cualquier uso comercial con suscripción.',en:'Premium music and sound effects. Universal license for any commercial use with subscription.'}, tags:[{es:'Premium',en:'Premium'},{es:'Licencia universal',en:'Universal license'},{es:'Música',en:'Music'}] },
    { type:{es:'Música de artistas',en:'Artist music'}, name:'Musicbed', url:'https://musicbed.com', price:'paid', desc:{es:'Música de artistas reales para publicidad. Cuando necesitas una canción con alma, no solo un tema de librería.',en:'Music from real artists for advertising. When you need a song with soul, not just a library track.'}, tags:[{es:'Artistas reales',en:'Real artists'},{es:'Premium',en:'Premium'},{es:'Spots',en:'Spots'}] },
    { type:{es:'Música gratuita',en:'Free music'}, name:'Free Music Archive', url:'https://freemusicarchive.org', price:'free', desc:{es:'Archivo de música gratuita con licencias Creative Commons. Para proyectos con presupuesto cero.',en:'Free music archive with Creative Commons licenses. For projects with zero budget.'}, tags:[{es:'Creative Commons',en:'Creative Commons'},{es:'Gratis',en:'Free'},{es:'Archivo',en:'Archive'}] },
    { type:{es:'Efectos de sonido',en:'Sound effects'}, name:'Freesound', url:'https://freesound.org', price:'free', desc:{es:'Base de datos colaborativa de sonidos con licencias Creative Commons. Desde ambientes hasta efectos específicos.',en:'Collaborative sound database with Creative Commons licenses. From ambiences to specific effects.'}, tags:[{es:'SFX',en:'SFX'},{es:'Creative Commons',en:'Creative Commons'},{es:'Colaborativo',en:'Collaborative'}] },
    { type:{es:'Archivo sonoro BBC',en:'BBC sound archive'}, name:'BBC Sound Effects', url:'https://sound-effects.bbcrewind.co.uk', price:'free', desc:{es:'Archivo de efectos de sonido de la BBC. Miles de grabaciones profesionales de campo, ambientes y efectos.',en:'BBC sound effects archive. Thousands of professional field recordings, ambiences and effects.'}, tags:[{es:'BBC',en:'BBC'},{es:'Profesional',en:'Professional'},{es:'Archivo',en:'Archive'}] },
    { type:{es:'Efectos gratuitos',en:'Free effects'}, name:'ZapSplat', url:'https://zapsplat.com', price:'free', desc:{es:'Biblioteca de efectos de sonido y música gratuitos. Más de 130.000 sonidos organizados por categoría.',en:'Free sound effects and music library. Over 130,000 sounds organized by category.'}, tags:[{es:'130k+ sonidos',en:'130k+ sounds'},{es:'Gratis',en:'Free'},{es:'Categorizado',en:'Categorized'}] },
  ]},
  { id:'motion', name:{es:'Ilustración & Motion',en:'Illustration & Motion'}, tools:[
    { type:{es:'Portfolios creativos',en:'Creative portfolios'}, name:'Dribbble', url:'https://dribbble.com', price:'free', desc:{es:'Portfolios de ilustradores, animadores y diseñadores. Para encontrar talento por estilo visual específico.',en:'Portfolios of illustrators, animators and designers. Find talent by specific visual style.'}, tags:[{es:'Portfolios',en:'Portfolios'},{es:'Talento',en:'Talent'},{es:'Ilustración',en:'Illustration'}], featured:true },
    { type:{es:'Títulos de cine',en:'Film titles'}, name:'Art of the Title', url:'https://artofthetitle.com', price:'free', desc:{es:'Archivo de secuencias de títulos de cine y TV. Motion graphics y diseño de títulos analizados en detalle.',en:'Archive of film and TV title sequences. Motion graphics and title design analyzed in detail.'}, tags:[{es:'Títulos',en:'Titles'},{es:'Motion',en:'Motion'},{es:'Análisis',en:'Analysis'}] },
    { type:{es:'Motion graphics',en:'Motion graphics'}, name:'Stash Media', url:'https://stashmedia.tv', price:'freemium', desc:{es:'Archivo de motion graphics, animación y spots. Para referencias de animación publicitaria y técnicas visuales.',en:'Motion graphics, animation and spots archive. For advertising animation references and visual techniques.'}, tags:[{es:'Motion graphics',en:'Motion graphics'},{es:'Animación',en:'Animation'},{es:'Spots',en:'Spots'}] },
    { type:{es:'End cards',en:'End cards'}, name:'Art of End Cards', url:'https://theartofendcards.com', price:'free', desc:{es:'La única referencia especializada en end cards de spots. Para resolver cómo conviven logo, claim, pack shot y legal.',en:'The only specialized end card reference. To figure out how logo, claim, pack shot and legal coexist.'}, tags:[{es:'End cards',en:'End cards'},{es:'TV',en:'TV'},{es:'Logo',en:'Logo'}] },
  ]},
  { id:'campaigns', name:{es:'Archivo de campañas',en:'Campaign Archive'}, tools:[
    { type:{es:'Campañas diarias',en:'Daily campaigns'}, name:'The Drum Creative Works', url:'https://thedrum.com/creative-works', price:'free', desc:{es:'Campañas nuevas de todo el mundo actualizadas cada día. El pulso en tiempo real de lo que se está produciendo.',en:'New campaigns from around the world updated daily. The real-time pulse of what\'s being produced.'}, tags:[{es:'Actualidad',en:'Current'},{es:'Diario',en:'Daily'},{es:'Global',en:'Global'}], featured:true },
    { type:{es:'Archivo de campañas',en:'Campaign archive'}, name:'Ads of the World', url:'https://adsoftheworld.com', price:'free', desc:{es:'La mayor base de datos de campañas globales. Filtra por sector, país y medio.',en:'The largest global campaign database. Filter by industry, country and medium.'}, tags:[{es:'Campañas',en:'Campaigns'},{es:'Por sector',en:'By industry'},{es:'Global',en:'Global'}] },
    { type:{es:'Directorio de agencias',en:'Agency directory'}, name:'AdForum', url:'https://adforum.com', price:'free', desc:{es:'Agencias, productoras y campañas filtradas por premios.',en:'Agencies, production companies and campaigns filtered by awards.'}, tags:[{es:'Agencias',en:'Agencies'},{es:'Premios',en:'Awards'},{es:'Historia',en:'History'}] },
    { type:{es:'Casos creativos',en:'Creative cases'}, name:'Campaigns of the World', url:'https://campaignsoftheworld.com', price:'free', desc:{es:'Campañas con contexto estratégico. Entiende por qué se tomaron las decisiones visuales y de copy.',en:'Campaigns with strategic context. Understand why the visual and copy decisions were made.'}, tags:[{es:'Estrategia',en:'Strategy'},{es:'Contexto',en:'Context'},{es:'Global',en:'Global'}] },
    { type:{es:'Archivo histórico',en:'Historical archive'}, name:'Vintage Ad Browser', url:'https://vintageadbrowser.com', price:'free', desc:{es:'Publicidad clásica pre-digital. Para entender los orígenes visuales y de copy de una marca.',en:'Classic pre-digital advertising. To understand the visual and copy origins of a brand.'}, tags:[{es:'Vintage',en:'Vintage'},{es:'Histórico',en:'Historic'},{es:'Marcas',en:'Brands'}] },
    { type:{es:'Desbloqueo creativo',en:'Creative unblock'}, name:'Unblock Coffee', url:'https://www.unblock.coffee', price:'free', desc:{es:'Herramienta de desbloqueo creativo con prompts visuales aleatorios. Para cuando necesitas un empujón inesperado.',en:'Creative unblock tool with random visual prompts. For when you need an unexpected push.'}, tags:[{es:'Desbloqueo',en:'Unblock'},{es:'Prompts',en:'Prompts'},{es:'Aleatorio',en:'Random'}] },
  ]},
  { id:'awarded', name:{es:'Trabajo premiado',en:'Award-winning Work'}, tools:[
    { type:{es:'Archivo Cannes',en:'Cannes archive'}, name:'Love The Work More', url:'https://lovetheworkmore.com', visitUrl:'https://lovetheworkmore.com', price:'free', desc:{es:'Todos los Grand Prix de Cannes Lions desde 1954 hasta hoy. La memoria más completa de la publicidad premiada.',en:'Every Cannes Lions Grand Prix from 1954 to today. The most complete memory of award-winning advertising.'}, tags:[{es:'Archivo',en:'Archive'},{es:'1954–hoy',en:'1954–today'},{es:'Gratis',en:'Free'}], award:{es:'Grand Prix desde 1954',en:'Grand Prix since 1954'}, featured:true },
    { type:{es:'El festival',en:'The festival'}, name:'Cannes Lions', url:'https://canneslions.com', visitUrl:'https://canneslions.com/awards', price:'free', desc:{es:'El festival más importante del mundo desde 1954. El benchmark global de la creatividad en todas las disciplinas.',en:'The world\'s most important festival since 1954. The global creativity benchmark across all disciplines.'}, tags:[{es:'Cannes, Junio',en:'Cannes, June'},{es:'Global',en:'Global'},{es:'Todas las disciplinas',en:'All disciplines'}], award:{es:"Grand Prix · Titanium · Lion d'Or",en:"Grand Prix · Titanium · Lion d'Or"}, featured:true },
    { type:{es:'Diseño & dirección de arte',en:'Design & art direction'}, name:'D&AD', url:'https://dandad.org', visitUrl:'https://dandad.org/work/annual', price:'free', desc:{es:'El benchmark del diseño y la publicidad desde 1962. Ganar un Black Pencil es el máximo reconocimiento creativo.',en:'The design and advertising benchmark since 1962. Winning a Black Pencil is the ultimate creative recognition.'}, tags:[{es:'Londres',en:'London'},{es:'Diseño',en:'Design'},{es:'Film',en:'Film'},{es:'Copy',en:'Copy'}], award:{es:'Black Pencil · Yellow Pencil · Wood Pencil',en:'Black Pencil · Yellow Pencil · Wood Pencil'} },
    { type:{es:'Publicidad integral',en:'Integrated advertising'}, name:'Clio Awards', url:'https://clios.com', visitUrl:'https://clios.com/awards/winners', price:'free', desc:{es:'Fundados en 1959, uno de los premios más veteranos. Excelencia en publicidad, diseño y entretenimiento.',en:'Founded in 1959, one of the most veteran awards. Excellence in advertising, design and entertainment.'}, tags:[{es:'Nueva York',en:'New York'},{es:'Global',en:'Global'},{es:'Publicidad integral',en:'Integrated advertising'}], award:{es:'Grand Clio · Gold · Silver · Bronze',en:'Grand Clio · Gold · Silver · Bronze'} },
    { type:{es:'Craft & copywriting',en:'Craft & copywriting'}, name:'The One Show', url:'https://www.oneclub.org', visitUrl:'https://www.oneclub.org/the-one-show/', price:'free', desc:{es:'El festival del One Club. Idea y ejecución inseparables. Muy valorado en copywriting y craft cinematográfico.',en:'The One Club festival. Idea and execution inseparable. Highly valued in copywriting and cinematographic craft.'}, tags:[{es:'Nueva York',en:'New York'},{es:'Craft',en:'Craft'},{es:'Copy',en:'Copy'}], award:{es:'Gold Pencil · Best of Show',en:'Gold Pencil · Best of Show'} },
    { type:{es:'Festival iberoamericano',en:'Ibero-American festival'}, name:'El Sol', url:'https://elsolfestival.com', visitUrl:'https://elsolfestival.com/edic-anteriores/palmares/', price:'free', desc:{es:'Referencia iberoamericana desde 1986, celebrado en Málaga. 40 ediciones de lo mejor de España y LATAM.',en:'Ibero-American reference since 1986, held in Malaga. 40 editions of the best from Spain and LATAM.'}, tags:[{es:'Málaga, Mayo',en:'Malaga, May'},{es:'España + LATAM',en:'Spain + LATAM'},{es:'40 ediciones',en:'40 editions'}], award:{es:'Sol de Platino · Gran Premio · Sol de Oro',en:'Sol de Platino · Gran Premio · Sol de Oro'} },
    { type:{es:'Premios nacionales',en:'National awards'}, name:'C de C', url:'https://www.clubdecreatividad.com', visitUrl:'https://www.clubdecreatividad.com', price:'free', desc:{es:'Premios Nacionales de Creatividad del Club de Creativos. La radiografía más honesta de la creatividad española.',en:'National Creativity Awards from the Club de Creativos. The most honest X-ray of Spanish creativity.'}, tags:[{es:'San Sebastián, Marzo',en:'San Sebastián, March'},{es:'España',en:'Spain'},{es:'Todas las disciplinas',en:'All disciplines'}], award:{es:'Gran Premio · Oro · Plata · Bronce',en:'Grand Prize · Gold · Silver · Bronze'} },
    { type:{es:'Arte dirección & diseño',en:'Art direction & design'}, name:'ADC Annual Awards', url:'https://adcglobal.org', visitUrl:'https://adcglobal.org', price:'free', desc:{es:'Los premios del Art Directors Club, fundados en 1921. El reconocimiento más antiguo del diseño gráfico.',en:'The Art Directors Club awards, founded in 1921. The oldest recognition in graphic design.'}, tags:[{es:'Nueva York',en:'New York'},{es:'Dirección de arte',en:'Art direction'},{es:'Diseño gráfico',en:'Graphic design'}], award:{es:'Black Cube · Gold Cube · Silver Cube',en:'Black Cube · Gold Cube · Silver Cube'} },
  ]},
];

// ═══════════════════════════════════════
// STATE
// ═══════════════════════════════════════
let currentTab = null;
const screenshotCache = new Map();

// ═══════════════════════════════════════
// HELPERS
// ═══════════════════════════════════════
function getDomain(u){try{return new URL(u).hostname}catch{return''}}
function getInitials(n){return n.split(/[\s&]+/).map(w=>w[0]).filter(Boolean).slice(0,2).join('').toUpperCase()}
function thumbURL(u){return`https://www.google.com/s2/favicons?domain=${getDomain(u)}&sz=64`}
function sortFeatured(a){return[...a].sort((x,y)=>(y.featured?1:0)-(x.featured?1:0))}

// ═══════════════════════════════════════
// THUMBNAIL FALLBACK
// ═══════════════════════════════════════
function handleThumbError(img) {
  img.parentElement.innerHTML = '<svg class="w-[22px] h-[22px] text-[var(--text-micro)]" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="4" y="4" width="16" height="16" rx="2"/><path d="M4 15l4-4a2 2 0 0 1 2.8 0L16 16"/><circle cx="14.5" cy="9.5" r="1.5"/></svg>';
}

// ═══════════════════════════════════════
// SCREENSHOT PREVIEW
// ═══════════════════════════════════════
const previewEl = document.getElementById('screenshotPreview');
const previewImg = previewEl.querySelector('img');
const previewLoading = previewEl.querySelector('.loading');
let previewTimeout = null, currentPreviewUrl = null;

function getScreenshotURL(url) {
  return `https://api.microlink.io/?url=${encodeURIComponent(url)}&screenshot=true&meta=false&embed=screenshot.url`;
}
function getFallbackURL(url) {
  return `https://www.google.com/s2/favicons?domain=${getDomain(url)}&sz=128`;
}

function showScreenshotPreview(url, event) {
  if (window.innerWidth <= 768) return;
  clearTimeout(previewTimeout);
  currentPreviewUrl = url;
  updatePreviewPosition(event);
  
  previewLoading.style.display = 'flex';
  previewImg.style.display = 'none';
  previewImg.classList.remove('p-10', 'object-contain', 'bg-[var(--surface-hover)]'); 
  previewEl.classList.add('visible');

  if (screenshotCache.has(url)) {
    const cached = screenshotCache.get(url);
    previewImg.src = cached.src;
    if(cached.isFallback) {
        previewImg.classList.add('p-10', 'object-contain', 'bg-[var(--surface-hover)]');
    }
    previewImg.style.display = 'block';
    previewLoading.style.display = 'none';
    return;
  }

  const screenshotUrl = getScreenshotURL(url);
  const img = new Image();
  const timeout = setTimeout(() => {
    if (currentPreviewUrl === url) showFallback(url);
  }, 6000);

  img.onload = () => {
    clearTimeout(timeout);
    if (currentPreviewUrl === url) {
      screenshotCache.set(url, { src: screenshotUrl, isFallback: false });
      previewImg.src = screenshotUrl;
      previewImg.style.display = 'block';
      previewLoading.style.display = 'none';
    }
  };
  img.onerror = () => {
    clearTimeout(timeout);
    if (currentPreviewUrl === url) showFallback(url);
  };
  img.src = screenshotUrl;
}

function showFallback(url) {
  const fallbackUrl = getFallbackURL(url);
  screenshotCache.set(url, { src: fallbackUrl, isFallback: true });
  previewImg.src = fallbackUrl;
  previewImg.classList.add('p-10', 'object-contain', 'bg-[var(--surface-hover)]');
  previewImg.style.display = 'block';
  previewLoading.style.display = 'none';
}

function updatePreviewPosition(e) {
  if (!previewEl.classList.contains('visible')) return;
  previewEl.style.left = Math.min(e.clientX + 20, window.innerWidth - 340) + 'px';
  previewEl.style.top = Math.min(e.clientY + 20, window.innerHeight - 220) + 'px';
}

function hideScreenshotPreview() {
  previewEl.classList.remove('visible');
  currentPreviewUrl = null;
}

// ═══════════════════════════════════════
// COPY LINK WITH TOAST
// ═══════════════════════════════════════
function showCopyToast(card) {
    const existingToast = card.querySelector('.copy-toast');
    if (existingToast) existingToast.remove();
    
    const toast = document.createElement('div');
    toast.className = 'copy-toast';
    toast.innerHTML = `
        <svg class="copy-toast-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
        <span>${t('copied')}</span>
    `;
    
    card.appendChild(toast);
    
    setTimeout(() => toast.classList.add('show'), 10);
    
    setTimeout(() => {
        toast.classList.remove('show');
        setTimeout(() => toast.remove(), 250);
    }, 2000);
}

// ═══════════════════════════════════════
// NAVIGATION
// ═══════════════════════════════════════
function selectTab(id, pushState = true) {
  const sub = SUBCATEGORIES.find(s => s.id === id) || SUBCATEGORIES[0];
  currentTab = sub.id;
  if (pushState) history.pushState(null, '', '#' + sub.id);
  renderTabs();
  renderTools(sub);
  setTimeout(observeFadeUp, 30);
}

window.addEventListener('popstate', () => {
  selectTab(location.hash.replace('#', '') || SUBCATEGORIES[0].id, false);
});

// ═══════════════════════════════════════
// RENDER
// ═══════════════════════════════════════
function renderTabs() {
  document.getElementById('subTabs').innerHTML = SUBCATEGORIES.map(sc =>
    `<button class="sub-tab px-5 py-2.5 text-[15px] rounded-full border border-[var(--surface-border)] bg-[var(--surface)] text-[var(--text-secondary)] cursor-pointer transition-all duration-300 ease-out font-[family-name:var(--font-sans)] leading-none whitespace-nowrap select-none ${sc.id === currentTab ? 'active' : ''}" onclick="selectTab('${sc.id}')">${getText(sc.name)}</button>`
  ).join('');
}

function renderTools(sub) {
  const sorted = sortFeatured(sub.tools);
  const grid = document.getElementById('toolGrid');
  grid.innerHTML = sorted.map(t => toolCardHTML(t)).join('');
  
  grid.querySelectorAll('.tool-card').forEach((card, i) => {
    const tool = sorted[i];
    
    card.addEventListener('mouseenter', e => { 
      previewTimeout = setTimeout(() => showScreenshotPreview(tool.url, e), 300) 
    });
    card.addEventListener('mousemove', updatePreviewPosition);
    card.addEventListener('mouseleave', () => { 
      clearTimeout(previewTimeout); 
      hideScreenshotPreview() 
    });
    
    const copyBtn = card.querySelector('.copy-btn');
    if (copyBtn) {
      copyBtn.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        const url = card.dataset.url;
        navigator.clipboard.writeText(url).then(() => {
          showCopyToast(card);
        }).catch(err => {
          console.error('Error al copiar:', err);
        });
      });
    }
  });
}

function toolCardHTML(tool) {
  const priceLabel = t(tool.price);
  const priceClass = { free: 'price-free', paid: 'price-paid', freemium: 'price-freemium' }[tool.price];
  const linkUrl = tool.visitUrl || tool.url;
  const award = tool.award ? `<span class="fest-award font-[family-name:var(--font-mono)] text-xs text-[var(--gold)] mb-2.5 block">${getText(tool.award)}</span>` : '';
  const featuredBadge = tool.featured ? `<span class="tc-featured font-[family-name:var(--font-mono)] text-[10px] text-[var(--gold)] bg-[var(--gold-bg)] border border-[var(--gold-border)] px-1.5 py-0.5 rounded ml-2 whitespace-nowrap inline-flex items-center gap-[3px]"><svg class="w-2.5 h-2.5" viewBox="0 0 24 24" fill="currentColor" stroke="none"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>${t('featured')}</span>` : '';
  const newBadge = tool.isNew ? `<span class="new-badge">NEW</span>` : '';
  
  return `
    <div id="card-${tool.name.replace(/\s+/g, '-').toLowerCase()}" class="tool-card fade-up rounded-2xl p-7 flex flex-col transition-all duration-300 relative group overflow-hidden" data-url="${tool.url}">
      <div class="absolute top-6 right-6 flex gap-2 items-center">
        <button class="copy-btn text-[var(--text-tertiary)] opacity-0 transition-all duration-300 copy-icon hover:text-[var(--text-primary)]" title="${t('copyLink')}">
             <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
        </button>
        <a href="${linkUrl}" target="_blank" class="text-[var(--text-tertiary)] transition-all duration-300 arrow-icon">
             <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg>
        </a>
      </div>
      <div class="flex items-center gap-4 mb-5">
        <div class="w-12 h-12 rounded-xl icon-gradient p-[1px] shrink-0 flex items-center justify-center overflow-hidden">
          <div class="w-full h-full bg-[var(--surface-hover)] rounded-[11px] flex items-center justify-center overflow-hidden">
             <img loading="lazy" class="w-8 h-8 object-contain block opacity-90" src="${thumbURL(tool.url)}" alt="" onerror="handleThumbError(this)" />
          </div>
        </div>
        <div class="flex-1 min-w-0 pr-16">
            <span class="font-[family-name:var(--font-mono)] text-[11px] font-medium tracking-[0.08em] text-[var(--text-tertiary)] uppercase opacity-80 block mb-1">${getText(tool.type)}</span>
            <div class="flex items-center flex-wrap gap-2">
                <span class="text-[19px] font-bold text-[var(--text-primary)] tracking-tight leading-none font-inter">${tool.name}</span>
                ${newBadge}
                ${featuredBadge}
            </div>
        </div>
      </div>
      ${award}
      <p class="text-[14px] text-[var(--text-secondary)] leading-[1.6] flex-1 mb-6 font-light opacity-90">${getText(tool.desc)}</p>
      <div class="flex flex-wrap items-center justify-between gap-y-3 mt-auto pt-2">
        <div class="flex flex-wrap gap-2">
            ${tool.tags.map(tag => `<span class="font-[family-name:var(--font-mono)] text-[11px] font-medium tracking-wide text-[var(--text-tertiary)] border-b border-transparent hover:border-[var(--surface-border-hover)] px-0 pb-[1px] hover:text-[var(--text-secondary)] transition-all cursor-default">${getText(tag)}</span>`).join('')}
        </div>
        <span class="price-badge glass-badge font-[family-name:var(--font-mono)] text-[10px] font-semibold tracking-wide px-3 py-1 rounded-full ${priceClass}">
            <span class="status-dot"></span>
            ${priceLabel}
        </span>
      </div>
    </div>`;
}

// ═══════════════════════════════════════
// SEARCH
// ═══════════════════════════════════════
function openSearch() {
  document.getElementById('searchOverlay').classList.replace('hidden', 'flex');
  document.getElementById('searchInput').value = '';
  document.getElementById('searchResults').innerHTML = '';
  setTimeout(() => document.getElementById('searchInput').focus(), 60);
}

function closeSearch() {
  document.getElementById('searchOverlay').classList.replace('flex', 'hidden');
}

function highlightCard(toolName) {
    const id = `card-${toolName.replace(/\s+/g, '-').toLowerCase()}`;
    setTimeout(() => {
        const card = document.getElementById(id);
        if(card) {
            card.scrollIntoView({ behavior: 'smooth', block: 'center' });
            card.classList.add('highlight-pulse');
            setTimeout(() => card.classList.remove('highlight-pulse'), 1500);
        }
    }, 100);
}

function doSearch(q) {
  q = q.trim().toLowerCase();
  
  if(!document.getElementById('searchOverlay').classList.contains('flex')) {
      const grid = document.getElementById('toolGrid');
      const cards = grid.querySelectorAll('.tool-card');
      if(q === '') {
          cards.forEach(card => card.style.display = 'flex');
          return;
      }
      cards.forEach(card => {
          const text = card.textContent.toLowerCase();
          card.style.display = text.includes(q) ? 'flex' : 'none';
      });
      return;
  }
  
  const results = document.getElementById('searchResults');
  if (!q) { results.innerHTML = ''; return; }
  
  const all = [];
  SUBCATEGORIES.forEach(sc => sc.tools.forEach(tool => all.push({ ...tool, subName: sc.name, subId: sc.id })));
  
  const matched = all.filter(tool => {
    const n = tool.name.toLowerCase(), d = getText(tool.desc).toLowerCase(), tp = getText(tool.type).toLowerCase();
    const tagMatch = tool.tags.some(tag => getText(tag).toLowerCase().includes(q));
    return n.includes(q) || d.includes(q) || tp.includes(q) || tagMatch;
  });
  
  const seen = new Set();
  const unique = matched.filter(tool => { if (seen.has(tool.name)) return false; seen.add(tool.name); return true });
  
  if (!unique.length) { results.innerHTML = `<div class="p-8 text-center text-[var(--text-micro)] text-[13px]">${t('noResults')}</div>`; return; }
  
  results.innerHTML = unique.map(tool => `
    <a class="flex flex-col gap-[2px] p-3.5 rounded-lg cursor-pointer transition-colors duration-100 no-underline hover:bg-[var(--surface-hover)]" 
       onclick="closeSearch();selectTab('${tool.subId}');highlightCard('${tool.name}')">
      <span class="text-sm font-semibold text-[var(--text-primary)]">${tool.name}${tool.featured ? ' ★' : ''}</span>
      <span class="text-xs text-[var(--text-tertiary)] font-[family-name:var(--font-mono)]">${getText(tool.subName)}</span>
      <span class="text-[13px] text-[var(--text-secondary)] leading-normal mt-0.5">${getText(tool.desc).substring(0, 100)}${getText(tool.desc).length > 100 ? '…' : ''}</span>
    </a>`).join('');
}

document.getElementById('searchInput').addEventListener('input', e => doSearch(e.target.value));
document.addEventListener('keydown', e => {
  if ((e.metaKey || e.ctrlKey) && e.key === 'k') { e.preventDefault(); openSearch(); }
  if (e.key === 'Escape') closeSearch();
});

// ═══════════════════════════════════════
// THEME TOGGLE
// ═══════════════════════════════════════
const themeToggleBtn = document.getElementById('themeToggle');
const themeIcon = themeToggleBtn.querySelector('.material-symbols-outlined');

function setTheme(isLight) {
  if (isLight) {
    document.documentElement.classList.add('light-mode');
    themeIcon.textContent = 'dark_mode';
  } else {
    document.documentElement.classList.remove('light-mode');
    themeIcon.textContent = 'light_mode';
  }
  localStorage.setItem('visuarium-theme', isLight ? 'light' : 'dark');
}

themeToggleBtn.addEventListener('click', () => {
  setTheme(!document.documentElement.classList.contains('light-mode'));
});

// ═══════════════════════════════════════
// LANGUAGE TOGGLE
// ═══════════════════════════════════════
const langBtn = document.getElementById('langToggle');
function setLang(newLang) {
  lang = newLang;
  localStorage.setItem('visuarium-lang', lang);
  document.documentElement.setAttribute('lang', lang);
  langBtn.textContent = lang.toUpperCase();
  document.title = t('pageTitle');
  document.getElementById('searchInput').placeholder = t('searchPlaceholder');
  document.getElementById('previewLoadingText').textContent = t('loading');
  document.getElementById('footerLeft').textContent = t('footerLeft');
  document.getElementById('footerRight').innerHTML = `${t('footerRight')} <a class="text-[var(--text-micro)] no-underline transition-colors duration-150 hover:text-[var(--text-tertiary)]" href="https://www.linkedin.com/in/johny-acosta-arteta-7416911b2/" target="_blank" rel="noopener">Johny Acosta</a>`;
  const sub = SUBCATEGORIES.find(s => s.id === currentTab) || SUBCATEGORIES[0];
  renderTabs();
  renderTools(sub);
  setTimeout(observeFadeUp, 30);
}
langBtn.addEventListener('click', () => {
  setLang(lang === 'es' ? 'en' : 'es');
});

// ═══════════════════════════════════════
// GOOGLY EYES & OUCH INTERACTION
// ═══════════════════════════════════════
const eyesContainer = document.getElementById('eyesContainer');
const eyes = document.querySelectorAll('.eye');
const ouchBubble = document.getElementById('ouchBubble');
let isBlinking = false;
let clickCount = 0;
let isAngry = false;

const allPhrases = ['OUCH!', 'HEY!', 'Stop it!', 'T_T', 'Why?', 'Nooo!', 'Auch!', 'Ow!'];
let availablePhrases = [...allPhrases];

function getRandomPhrase() {
    if (availablePhrases.length === 0) {
        availablePhrases = [...allPhrases];
    }
    const randomIndex = Math.floor(Math.random() * availablePhrases.length);
    const phrase = availablePhrases[randomIndex];
    availablePhrases.splice(randomIndex, 1);
    return phrase;
}

document.addEventListener('mousemove', e => {
  if (isBlinking) return;
  eyes.forEach(eye => {
    const p = eye.querySelector('.pupil');
    const r = eye.getBoundingClientRect();
    const cx = r.left + r.width / 2, cy = r.top + r.height / 2;
    let a = Math.atan2(e.clientY - cy, e.clientX - cx);
    let d = Math.min(3, Math.hypot(e.clientX - cx, e.clientY - cy));
    p.style.transform = `translate(${Math.cos(a) * d}px,${Math.sin(a) * d}px)`;
  });
});

eyesContainer.addEventListener('click', () => {
    if (isAngry || isBlinking) return;
    
    clickCount++;
    isBlinking = true;

    if (clickCount >= 3) {
        // ANGRY MODE CON RESET COMPLETO DESPUÉS DE 5 SEGUNDOS
        isAngry = true;
        eyes.forEach(eye => {
            eye.classList.remove('blink');
            eye.classList.add('angry');
        });
        ouchBubble.innerText = 'STOP!';
        ouchBubble.classList.add('visible', 'angry-bubble');
        isBlinking = false;
        
        // Todo se resetea después de 5 segundos
        setTimeout(() => {
            ouchBubble.classList.remove('visible', 'angry-bubble');
            eyes.forEach(eye => eye.classList.remove('angry'));
            isAngry = false;
            clickCount = 0;
            availablePhrases = [...allPhrases];
        }, 5000);
        
    } else {
        // NORMAL OUCH MODE
        eyes.forEach(eye => eye.classList.add('blink'));
        const phrase = getRandomPhrase();
        ouchBubble.innerText = phrase;
        ouchBubble.classList.add('visible');
        
        setTimeout(() => {
            eyes.forEach(eye => eye.classList.remove('blink'));
            ouchBubble.classList.remove('visible');
            isBlinking = false;
        }, 800);
    }
});

// ═══════════════════════════════════════
// SCROLL ANIMATIONS
// ═══════════════════════════════════════
function observeFadeUp() {
  const o = new IntersectionObserver(es => {
    es.forEach(e => {
      if (e.isIntersecting) {
        e.target.classList.add('visible');
        o.unobserve(e.target);
      }
    });
  }, { threshold: 0.08 });
  document.querySelectorAll('.fade-up:not(.visible)').forEach(el => o.observe(el));
}

// ═══════════════════════════════════════
// INIT
// ═══════════════════════════════════════
(function() {
  const savedTheme = localStorage.getItem('visuarium-theme');
  if (savedTheme) {
    setTheme(savedTheme === 'light');
  } else {
    setTheme(false); 
  }

  const savedLang = localStorage.getItem('visuarium-lang');
  const browserLang = (navigator.language || 'es').substring(0, 2);
  const initLang = savedLang || (browserLang === 'en' ? 'en' : 'es');
  
  lang = initLang; 
  document.documentElement.setAttribute('lang', lang);
  langBtn.textContent = lang.toUpperCase();
  document.title = t('pageTitle');
  document.getElementById('searchInput').placeholder = t('searchPlaceholder');
  document.getElementById('footerLeft').textContent = t('footerLeft');
  document.getElementById('footerRight').innerHTML = `${t('footerRight')} <a class="text-[var(--text-micro)] no-underline transition-colors duration-150 hover:text-[var(--text-tertiary)]" href="https://www.linkedin.com/in/johny-acosta-arteta-7416911b2/" target="_blank" rel="noopener">Johny Acosta</a>`;

  const hash = location.hash.replace('#', '') || SUBCATEGORIES[0].id;
  selectTab(hash, false);
  
  observeFadeUp();
})();
</script>

</body></html>